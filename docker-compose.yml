version: "2.1"
services:
  samba:
    image: stanback/alpine-samba:latest
    container_name: samba
    privileged: true
    volumes:
      - ${PWD}/conf/smb.conf:/etc/samba/smb.conf
      - /home/delta/:/share
      - ${PWD}/conf/smb-init.sh:/smb-init.sh
    ports:
      - 10.69.69.3:445:445
    restart: always
    entrypoint:
      - /smb-init.sh
  blog:
    image: algernon/writefreely:latest
    container_name: blog
    environment:
      - WRITEFREELY_BIND_HOST=blog.cameronseid.com
      - WRITEFREELY_BIND_PORT=7000
      - WRITEFREELY_SINGLE_USER=true
    volumes:
      - /home/delta/blog:/data
      - ${PWD}/conf/blog.ini:/data/config.ini
    ports:
      - 7000:8080
    restart: always
  
